
template t
    node
        apply q
            script
        node q


node q
    script
        for i 0 (len self.children) {
            var c self.children.{i}
            println "c is {c}"
            set c.height 0;
        }
        set self.children.1.height 100
apply q
    script
        var e env.x
        var cs (array [vec3 0.0 1.0 0.0] [vec3 0.0 0.0 1.0] [vec3 0.0 0.0 0.4])
        for i 0 (len e) {
            var n e.{i};

            set n.width 50
            println n.height
            set n.height (+ n.height 50)
            set n.color.rgb cs.{i}
            set n.color.a 1.0
        }

        println "{} {} {}" e.0 e.1 (len e)
    node x
        script
        node
            script
            template t
        text "a"
    node x
        text "b"

    node x
        text "c"
